{"name":"walle","tagline":"代码部署工具","body":"![](https://raw.github.com/meolu/walle-web/master/screenshots/logo.jpg)\r\n\r\n瓦力 - 部署系统\r\n==========================\r\n[![Build Status](https://travis-ci.org/meolu/walle-web.svg?branch=master)](https://travis-ci.org/meolu/walle-web)\r\n[![Packagist](https://img.shields.io/packagist/v/meolu/walle-web.svg)](https://packagist.org/packages/meolu/walle-web)\r\n\r\nWalle 一个web部署系统工具，可能也是个持续发布工具，配置简单、功能完善、界面流畅、开箱即用！支持git、svn版本管理，支持各种web代码发布，静态的HTML，动态PHP，需要编译的JAVA等。\r\n\r\n[官网主页](http://www.huamanshu.com/walle.html)了解更多。[English Readme](https://github.com/meolu/walle-web/blob/master/example/README-en.md)，喜欢请为我标star吧：）\r\n\r\n* 用户分身份注册、登录\r\n* 开发者发起上线任务申请、部署\r\n* 管理者审核上线任务\r\n* 支持多项目部署\r\n* 支持多项目多任务并行\r\n* 快速回滚\r\n* 项目的用户权限管理\r\n* 部署前准备任务pre-deploy（前置检查）\r\n* 代码检出后处理任务post-deploy（如vendor）\r\n* 同步后更新软链前置任务pre-release\r\n* 发布完毕后收尾任务post-release（如重启）\r\n* 执行sql构建（不要担心忘记测试环境sql同步）\r\n* 线上文件指纹确认\r\n* 支持git、svn版本管理\r\n\r\n\r\n依赖\r\n---\r\n\r\n* bash(git、ssh)\r\n* LNMP、LAMP(php5.4+)\r\n* composer\r\n\r\n安装\r\n----\r\n```\r\ngit clone git@github.com:meolu/walle-web.git\r\ncd walle-web\r\nvi config/web.php # 设置mysql连接\r\ncomposer install  # 如果缺少bower-asset的话， 先安装：composer global require \"fxp/composer-asset-plugin:*\"\r\n./yii migrate/up  # 导入数据库\r\n配置nginx/apache的webroot指向walle-web/web，简单范例详见页面底部常见问题和解决办法。\r\n```\r\n\r\n如有需要，移步[最最最详细安装指南](https://github.com/meolu/walle-web/blob/master/docs/install.md)\r\n\r\n\r\n快速开始\r\n-------\r\n* 注册一个管理员身份用户(已有`admin/admin`)，配置一个项目。\r\n    * [git配置范例](https://github.com/meolu/walle-web/blob/master/docs/config-git.md)\r\n    * [svn配置范例](https://github.com/meolu/walle-web/blob/master/docs/config-svn.md)\r\n* 开发者注册用户(已有`demo/demo`)，提交上线单\r\n* 管理员审核上线单\r\n* 开发者发起上线\r\n\r\n高级自定义\r\n--------\r\n此时你可能考虑要作为一个公司内部新项目的试用版本，那么你将需要做以下的处理，更适合业务需求。\r\n\r\n* 配置允许注册的邮箱后缀  \r\n    ```php\r\n    vi config/params.php\r\n\r\n    'mail-suffix'   => [  // 允许注册的邮箱后缀，一般为公司邮箱后缀，可多个\r\n        'huamanshu.com',  // 如：只允许花满树邮箱注册\r\n    ]\r\n    ```\r\n\r\n* 配置企业邮箱smtp\r\n    ```php\r\n    vi config/web.php +25\r\n\r\n    # 配置mail smtp模块\r\n    'class'      => 'Swift_SmtpTransport',\r\n    'host'       => 'smtp.huamanshu.com',    # smtp 发件地址\r\n    'username'   => 'service@huamanshu.com', # smtp 发件用户名\r\n    'password'   => 'password',              # smtp 发件人的密码\r\n    'port'       => 25,                      # smtp 端口\r\n    'encryption' => 'tls',                   # smtp 协议\r\n\r\n\r\n    vi config/params.php\r\n\r\n    'support.email' => 'service@huamanshu.com', // 与config/web.php 中mail模块的username一致\r\n    ```\r\n\r\n* 配置日志路径\r\n    ```php\r\n    vi config/params.php\r\n\r\n    'log.dir'   => '/tmp/walle/', # 注意读写权限\r\n    ```\r\n\r\nTo Do List\r\n----------\r\n- Travis CI 集成\r\n- 邮件提醒：可配置提醒事件\r\n- 灰度发布：指定机器发布\r\n- 引入websocket\r\n- 静态资源管理器\r\n- 自定义公司logo\r\n- 自定义变量\r\n- 支持国际化：增加英文语言\r\n- 支持Docker\r\n- 开放接口\r\n\r\n持续更新开启更多功能\r\n-----------------\r\n```\r\ngit pull\r\n./yii migrate    # 更新数据库\r\n```\r\n\r\n截图\r\n---\r\n\r\n#### 配置管理\r\n![](https://raw.github.com/meolu/walle-web/master/screenshots/walle-config-edit.jpg)\r\n\r\n#### 提交上线任务\r\n![](https://raw.github.com/meolu/walle-web/master/screenshots/walle-submit.jpg)\r\n\r\n#### 上线列表\r\n![](https://raw.github.com/meolu/walle-web/master/screenshots/walle-dev-list.jpg)\r\n\r\n#### 宿主机、目标机群、操作用户关系\r\n![](https://raw.github.com/meolu/walle-web/master/screenshots/walle-work.png)\r\n\r\n#### 上线流程图\r\n![](https://raw.github.com/meolu/walle-web/master/screenshots/walle-flow.png)\r\n\r\n#### 演示\r\n![](https://raw.github.com/meolu/walle-web/master/screenshots/walle.gif)\r\n\r\n## CHANGELOG\r\n瓦力的版本记录：[CHANGELOG](https://github.com/meolu/walle-web/blob/master/docs/CHANGELOG.md)\r\n\r\n\r\n交流讨论\r\n-------\r\n- [常见问题及解决办法手册](https://github.com/meolu/walle-web/blob/master/docs/qa.md)\r\n- [submit issue](https://github.com/meolu/walle-web/issues/new)\r\n- QQ群: 482939318","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}